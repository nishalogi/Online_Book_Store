<div class="container mt-4">
    <h2>Shopping Cart</h2>

    <div *ngIf="cartItems.length === 0">
        <p>Your cart is empty. <a routerLink="/books">Browse Books</a></p>
    </div>

    <table *ngIf="cartItems.length > 0" class="table">
        <thead>
            <tr>
                <th>Book</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Total</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of cartItems">
                <td>{{ item.book.title }}</td>
                <td>${{ item.book.price }}</td>
                <td>
                    <input type="number" [(ngModel)]="item.quantity" 
                        (change)="updateQuantity(item.id, item.quantity)" min="1">
                </td>
                <td>${{ item.book.price * item.quantity }}</td>
                <td>
                    <button class="btn btn-danger btn-sm" (click)="removeFromCart(item.id)">Remove</button>
                </td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="cartItems.length > 0" class="mt-3">
        <h4>Total Price: ${{ totalPrice }}</h4>
        <button class="btn btn-warning" (click)="clearCart()">Clear Cart</button>

        <!-- âœ… Checkout Button (Redirects to Checkout Page) -->
        <button class="btn btn-success ml-2" (click)="checkout()">Proceed to Checkout</button>

        
    </div>
</div>

